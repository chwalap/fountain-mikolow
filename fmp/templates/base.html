<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music Player</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/footer-style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/notification-style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/messagebox-style.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
  <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
<body>
  <nav class="top-menu">
    <button class="menu-toggle">
      <i class="fas fa-solid fa-bars"></i>
    </button>
    <ul>
      <li><a href="/player">Odtwarzacz</a></li>
      <li><a href="/playlist">Playlisty</a></li>
      <li><a href="/schedule">Harmonogram</a></li>
      <li><a href="/settings">Ustawienia</a></li>
      <li><a href="/auth/logout">Wyloguj</a></li>
    </ul>
  </nav>

  <div id="messageBox" class="message-box" tabindex="0">
    <div class="message-content">
      <p id="messageText"></p>
      <div class="message-box-button-container">
        <button id="yesButton" onclick="buttonClicked('yes')">Tak</button>
        <button id="noButton" onclick="buttonClicked('no')">Nie</button>
      </div>
    </div>
  </div>

  <div id="notification-container"></div>

  <div class="music-player-container">
    {% block content %}
    {% endblock %}
  </div>

  <footer id='footer-controls' class="footer-controls {% if not settings['player_always_on_top'] %} hidden {% endif %}">
    <div class="progress-bar-container">
      <div class="progress-bar" id="progress-bar" style="width: {{ current_track_percentage }}%"></div>
    </div>

    <div class="current-track-info">
      <span id="current-track-name">{{ current_track_name }}</span>
    </div>
    <div class="progress-time" id="progress-time" data-progress="{{current_track_progress}}" data-duration="{{current_track_length}}">{{ current_track_progress|format_time }} / {{ current_track_length|format_time }}</div>

    <div class="slider-container">
      <input type="range" min="0" max="100" value="{{ volume }}" class="volume-slider" id="volumeSlider">
    </div>

    <div class="player-controls">
      <button id="prev-track"><i class="fas fa-step-backward"></i></button>
      <button id="play-pause"><i class="fas fa-play"></i></button>
      <button id="next-track"><i class="fas fa-step-forward"></i></button>
    </div>
  </footer>
</body>
</html>
